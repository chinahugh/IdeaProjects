<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>开始使用layui</title>
    <link rel="stylesheet" href="../../static/layui/layui/css/layui.css">
</head>

<body>

    <div id="demo"></div>

    <script src="../../static/layui/layui/layui.js"></script>
    <script>
        //一般直接写在一个js文件中
        layui.use(['layer', 'form'], function () {
            var layer = layui.layer
                , form = layui.form;

            let options = {
                elem: '#demo'                              //【必填】dom对应的id值或class值，最好为id
                , width: 100                                //【可选】input框宽度  【默认：220】  
                , height: 50                                //【可选】input框高度  【默认：40】
                , placeholder: "请选择您的最佳伴侣"	       //【可选】input框placeholder值 【默认：请选择】
                , prop: {
                    value: 'value',                       //【可选】定义接口需要取得的值的名称字段【默认:value】
                    label: 'label',                       //【可选】定义接口显示的名称字段  【默认：label】
                    children: 'children'                  //【可选】定义接口子集的名称字段 【默认：children】
                }
                , search: {				      // 【1.5新增】
                    show: true,                           // 【可选】是否显示search功能【默认：false】
                    minLabel: 5,                          // 【可选】元素超过多少个时显示搜索框【默认：10】
                    placeholder: "请输入关键词"            // 【可选】搜索框的提示信息【默认：请输入关键词】
                }
                , showlast: false                           //【可选】是否只显示最后一级 【默认：false】
                , clicklast: false			      //【可选】点击最后一级才选择数据
                , disabled: false                           //【可选】是否禁用当前组件
                , data: []                                  //【二选一】初始化的值
                , value: 0                                  //【二选一】ajax请求初始值,即获取根结点的初始请求参数

                , getChildren: function (value) {             //【可选】用户自定义获取data子集的方法,
                    let data = [];                        // value为当前dom的value值
                    $.ajax({
                        url: 'https://open.gog.cn/appz/region/getRegion/' + value,
                        type: 'get',
                        async: false,
                        success: (res) => {
                            data = res.data;
                            for (let i in data) {
                                data[i].value = data[i].id;
                                data[i].label = data[i].name;
                                delete data[i].id;
                                delete data[i].name;
                                data[i].hasChild = true;
                            }
                        }
                    });
                    return data;
                }
                , checkData: ['520000000000', '520300000000', '520302000000']  //回显参数               
            }
        });
    </script>
</body>

</html>